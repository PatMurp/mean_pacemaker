<navigation></navigation>
<div class="container">
	<h2 ng-show="!vm.activities.length" class="text-center alert alert-danger" role="alert">No Activities Available</h2>
	<div class="row" ng-hide="!vm.activities.length">
		<table class="table table-hover">
			<caption><h2 class="text-center">My Activities</h2></caption>
			<thead>
				<tr>
					<th>Type</th>
					<th>Location</th> 
					<th>Distance</th>
					<th>Start Time</th>
					<th>Date</th>
					<th>Duration</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="activity in vm.activities">
					<td><a href="#" editable-text="activity.type" onaftersave="vm.updateActivity(activity)">{{ activity.type || 'empty' }}</a></td>
					<td> <a href="#" editable-text="activity.location" onaftersave="vm.updateActivity(activity)">{{ activity.location || 'empty'  }}</a></td>
					<td><a href="#" editable-number="activity.distance" onaftersave="vm.updateActivity(activity)">{{ activity.distance || 'empty'  }} km</a></td>
					<td><a href="#" editable-datetime="activity.starttime" onaftersave="vm.updateActivity(activity)">{{ activity.starttime | date: 'h:mma'}}</a></td>
					<td>{{ activity.starttime | date: 'dd:MMM:yyyy'}}</td>
					<td><a href="#" editable-number="activity.duration" onaftersave="vm.updateActivity(activity)">{{ activity.duration  || 'empty' }} min</a></td>
	
					<td><a data={{activity._id}} ng-click="vm.deleteActivity(activity._id)" class="btn btn-danger btn-sm">Delete</a></td>
				</tr>
			</tbody>
		</table>
	</div><!-- row end -->
	<div class="row">
		<div class="col-md-3 col-sm-12">
			<form ng-submit="vm.addActivity()">
				<h3>Add activity</h3>

				<div class="form-group">
					<input class="form-control" type="text" ng-model="vm.newActivity.type" placeholder="type" required>
				</div>
				<div class="form-group">
					<input class="form-control" type="text" ng-model="vm.newActivity.location" placeholder="location" required>
				</div>
				<div class="form-group">
					<input class="form-control" type="number" ng-model="vm.newActivity.distance" min="0.1" max="100" step="0.1" placeholder="distance km:" required>
				</div>
				<div class="form-group">
					<input class="form-control" type="datetime-local" ng-model="vm.newActivity.starttime"required>
				</div>
				<div class="form-group">
					<input class="form-control" type="number" ng-model="vm.newActivity.duration" placeholder="duration minutes:" required>
				</div>
				 <div class="form-group">
		      <div class="checkbox">
		        <label>
		          <input type="checkbox" ng-true-value="'A'" ng-false-value="'B'" ng-model="check"> Include Carbon savings
		        </label>
		      </div>
			  </div>
			  <div class="form-group" ng-show="check == 'A'">
			  	<select class="form-control" ng-model="vm.current_co2_band" ng-options="o as o for o in vm.options">
			  		<option value="" disabled selected hidden>Please Choose CO2 band...</option>
			  	</select>
			  </div>
			  <div class="form-group" ng-show="check == 'A'">
			  	<input type="number" ng-value="{{vm.newActivity.distance}}">
			  </div>
		
				<button type="submit" class="btn btn-success btn-block">Add Activity</button>
			</form>
		</div><!-- col-md-3 end -->	
	</div>

	
	<footer-pacemaker></footer-pacemaker>
</div><!-- container end	 -->